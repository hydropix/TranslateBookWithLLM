# Translation API Configuration
API_ENDPOINT=http://localhost:11434/api/generate
DEFAULT_MODEL=qwen3:14b

# Server Configuration
PORT=5000  # Port for the web interface
HOST=127.0.0.1  # Server host (127.0.0.1 for localhost only, 0.0.0.0 for all network interfaces)
OUTPUT_DIR=translated_files  # Directory for translated output files

# LLM Provider Settings
LLM_PROVIDER=ollama  # Options: ollama, gemini, openai
GEMINI_API_KEY=  # Your Google Gemini API key (required if using gemini provider)
GEMINI_MODEL=gemini-2.0-flash  # Default Gemini model
OPENAI_API_KEY=  # Your OpenAI API key (required if using openai provider)

# Translation Settings
DEFAULT_SOURCE_LANGUAGE=English  # Default source language (can be any language name)
DEFAULT_TARGET_LANGUAGE=Chinese  # Default target language (can be any language name)
MAIN_LINES_PER_CHUNK=25  # Target lines per chunk (may be auto-adjusted)
MAIN_CHUNK_SIZE=1000      # Maximum characters per chunk
REQUEST_TIMEOUT=900       # API timeout in seconds

# Context Management (IMPORTANT)
# Minimum recommended: 5550 for chunk_size=25
# Recommended for better performance: 8192 for chunk_size=25, 16384 for chunk_size=50
OLLAMA_NUM_CTX=8192

# Automatic Context Optimization
AUTO_ADJUST_CONTEXT=true  # Automatically adjust context/chunk size if prompt too large
MIN_CHUNK_SIZE=5          # Minimum lines per chunk when auto-adjusting
MAX_CHUNK_SIZE=100        # Maximum lines per chunk

# Advanced
MAX_TRANSLATION_ATTEMPTS=3
RETRY_DELAY_SECONDS=5

# SRT-specific configuration
SRT_LINES_PER_BLOCK=5
SRT_MAX_CHARS_PER_BLOCK=500

# Translation Signature
# This adds a discrete attribution to your translations (metadata for EPUB, footer for TXT, comment for SRT)
# Please consider keeping this enabled to support the project and help others discover this free tool!
# The signature is non-intrusive and placed at the end of files. Thank you for your support!
SIGNATURE_ENABLED=true

# Character-based Chunking (NEW)
# These settings control the improved chunking algorithm for more consistent chunk sizes
CHUNK_SIZE_CHARS=2500        # Target chunk size in characters (default: 2500, recommended: 2000-3000)
CHUNK_TOLERANCE=0.2          # Tolerance range as decimal (0.2 = Â±20% of target, results in 2000-3000 range)
ENABLE_CHARACTER_CHUNKING=true  # Enable character-based chunking for EPUB files (default: true)
REPORT_CHUNK_STATS=true      # Report chunk size statistics after processing (default: true)