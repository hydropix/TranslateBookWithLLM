# Translation API Configuration
API_ENDPOINT=http://localhost:11434/api/generate
DEFAULT_MODEL=qwen3:14b

# Server Configuration
PORT=5000  # Port for the web interface
HOST=127.0.0.1  # Server host (127.0.0.1 for localhost only, 0.0.0.0 for all network interfaces)
OUTPUT_DIR=translated_files  # Directory for translated output files

# LLM Provider Settings
# Options: ollama, gemini, openai, openrouter
LLM_PROVIDER=ollama
# Your Google Gemini API key (required if using gemini provider)
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash
# Your OpenAI API key (required if using openai provider)
OPENAI_API_KEY=

# OpenRouter Settings (access to 200+ models: Claude, GPT-4, Llama, Mistral, etc.)
# Your OpenRouter API key (from https://openrouter.ai/keys)
OPENROUTER_API_KEY=
OPENROUTER_MODEL=anthropic/claude-sonnet-4
# Popular models: google/gemini-2.0-flash-001 (cheap), openai/gpt-4o-mini, anthropic/claude-3-5-haiku-20241022
# See all models at https://openrouter.ai/models (text-only models are auto-filtered in the UI)

# Translation Settings
DEFAULT_SOURCE_LANGUAGE=English  # Default source language (can be any language name)
DEFAULT_TARGET_LANGUAGE=Chinese  # Default target language (can be any language name)
MAIN_LINES_PER_CHUNK=25  # Target lines per chunk (may be auto-adjusted)
MAIN_CHUNK_SIZE=1000      # Maximum characters per chunk
REQUEST_TIMEOUT=900       # API timeout in seconds

# Context Management (IMPORTANT)
# Minimum recommended: 5550 for chunk_size=25
# Recommended for better performance: 8192 for chunk_size=25, 16384 for chunk_size=50
OLLAMA_NUM_CTX=8192

# Automatic Context Optimization
AUTO_ADJUST_CONTEXT=true  # Automatically adjust context/chunk size if prompt too large
MIN_CHUNK_SIZE=5          # Minimum lines per chunk when auto-adjusting
MAX_CHUNK_SIZE=100        # Maximum lines per chunk

# Advanced
MAX_TRANSLATION_ATTEMPTS=3
RETRY_DELAY_SECONDS=5

# SRT-specific configuration
SRT_LINES_PER_BLOCK=5
SRT_MAX_CHARS_PER_BLOCK=500

# Translation Signature
# This adds a discrete attribution to your translations (metadata for EPUB, footer for TXT, comment for SRT)
# Please consider keeping this enabled to support the project and help others discover this free tool!
# The signature is non-intrusive and placed at the end of files. Thank you for your support!
SIGNATURE_ENABLED=true

# Fast Mode Image Preservation
# When enabled (default), images from the original EPUB are preserved in fast mode translations.
# Images are inserted between paragraphs at their original positions.
# Set to 'false' to strip all images (reduces output file size).
# Can also be disabled via CLI with --no-images flag.
FAST_MODE_PRESERVE_IMAGES=true

# Debug Mode
# Enable verbose logging for troubleshooting configuration and connection issues.
# Set to 'true' to see detailed logs about .env loading, API calls, and configuration values.
# Useful when models are not detected or languages are not applied correctly.
DEBUG_MODE=false

# TTS (Text-to-Speech) Configuration
# Generate audio narration of translated documents using Edge-TTS (Microsoft voices)
# Requires ffmpeg installed on the system for Opus encoding
TTS_ENABLED=false
# TTS Provider (currently only edge-tts is supported)
TTS_PROVIDER=edge-tts
# Voice selection (leave empty for auto-selection based on target language)
# Examples: zh-CN-XiaoxiaoNeural (Chinese female), zh-CN-YunxiNeural (Chinese male)
# See all voices: https://speech.microsoft.com/portal/voicegallery
TTS_VOICE=
# Speech rate adjustment (-50% to +100%, e.g., "+10%", "-20%")
TTS_RATE=+0%
# Opus bitrate for output audio (e.g., 48k, 64k, 96k, 128k)
TTS_BITRATE=64k
# Output format (opus recommended for compact file size)
TTS_OUTPUT_FORMAT=opus